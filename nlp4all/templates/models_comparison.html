{% extends "layout.html" %}
{% block content %}
{% if models == [] %}
    <div class="content-section" id="choose_models">
        <h2>Choose the models to compare</h2>
        <form method="POST" action="">
            <fieldset>
            {{ choose_models_form.hidden_tag() }}
                <div class="form-group">
                    {{ choose_models_form.models.label(class="form-control-label") }}
                    {% if choose_models_form.models.errors %}
                        {{ choose_models_form.models(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in choose_models_form.models.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ choose_models_form.models(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ choose_models_form.choose_submit(class="btn btn-outline-info") }}
                </div>
            </fieldset>
        </form>
    </div>

{% else %}
    <h1>Compare models</h1>
    <p><a href="{{ url_for('models_comparison') }}">Choose another set of models</a></p>

    <div class="content-section" id="compare_models">
        <h2>Words similarities</h2>
        <form method="POST" action="">
            <fieldset>
                {{ words_sim_form.hidden_tag() }}
                <legend class="border-bottom mb-4">Compute words similarities</legend>
                <div class="form-group">
                    {{ words_sim_form.word1.label(class="form-control-label") }}
                    {% if words_sim_form.word1.errors %}
                        {{ words_sim_form.word1(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in words_sim_form.word1.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ words_sim_form.word1(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ words_sim_form.word2.label(class="form-control-label") }}
                    {% if words_sim_form.word2.errors %}
                        {{ words_sim_form.word2(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in words_sim_form.word2.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ words_sim_form.word2(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ words_sim_form.word_sim_submit(class="btn btn-outline-info") }}
                </div>
            </fieldset>
        </form>
        {% if sims != {} %}
        <ul>
            {% for key in sims.keys() %}
                <li> <p align="justify">{{ sims[key][0][0] }} ({{ key }})</p> </li>
            {% endfor %}
        </ul>
        {% endif %}

        <form method="POST" action="">
            {{ word_most_sim_form.hidden_tag() }}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">Get most similar words</legend>
                <div class="form-group">
                    {{ word_most_sim_form.word.label(class="form-control-label") }}

                    {% if word_most_sim_form.word.errors %}
                        {{ word_most_sim_form.word(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in word_most_sim_form.word.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ word_most_sim_form.word(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ word_most_sim_form.word_most_sim_submit(class="btn btn-outline-info") }}
                </div>
            </fieldset>
        </form>
        {% if most_sim_words != None %}
        <ul>
            {% for model in most_sim_words %}
                <li> <p align="justify">{{ most_sim_words[model][0] }} ({{ "{:.3f}".format(most_sim_words[model][1]) }}) ({{ model }})</p> </li>
            {% endfor %}
        </ul>
        {% endif %}
    </div>
{% endif %}

{% endblock content %}
